<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ™ºèƒ½é¢è¯•åŠ©æ‰‹ - ç®€å†è§£æ</title>
<script src="https://cdn.tailwindcss.com/3.4.16"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
<script>
tailwind.config = {
theme: {
extend: {
colors: {
primary: '#3b82f6',
secondary: '#6366f1'
},
borderRadius: {
'none': '0px',
'sm': '4px',
DEFAULT: '8px',
'md': '12px',
'lg': '16px',
'xl': '20px',
'2xl': '24px',
'3xl': '32px',
'full': '9999px',
'button': '8px'
}
}
}
}
</script>
<style>
:where([class^="ri-"])::before {
content: "\f3c2";
}
.progress-bar {
transition: width 0.3s ease;
}
.fade-in {
animation: fadeIn 0.5s ease-in;
}
@keyframes fadeIn {
from { opacity: 0; transform: translateY(10px); }
to { opacity: 1; transform: translateY(0); }
}
.skill-tag {
transition: all 0.2s ease;
}
.skill-tag:hover {
transform: translateY(-1px);
box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
</style>
</head>
<body class="bg-gray-50 min-h-screen">
<div class="flex h-screen flex-col">
<!-- é¡¶éƒ¨å¯¼èˆªæ  -->
<div class="bg-white shadow-sm">
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
<div class="flex justify-between items-center h-16">
<div class="flex items-center">
<a href="./setting_page1.html" data-readdy="true" class="flex items-center text-gray-600 hover:text-gray-900 mr-6">
<div class="w-5 h-5 flex items-center justify-center mr-2">
<i class="ri-arrow-left-line"></i>
</div>
è¿”å›é…ç½®
</a>

<nav class="flex space-x-8">
  <a href="assessment-options.html" class="flex items-center">
    <img src="./static/logo.png" alt="logo" class="h-8 w-8 mr-2 inline-block align-middle">
    <p class="text-sm text-gray-600 ml-2">èŒé¢æ˜Ÿç«</p>
  </a>
  <nav class="flex space-x-8">
  <a href="../index.html" class="flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900">
  <div class="w-5 h-5 flex items-center justify-center mr-2">
  <i class="ri-home-line"></i>
  </div>
  é¦–é¡µ
  </a>
  <a href="./setting_page1.html" class="flex items-center px-3 py-2 text-sm font-medium text-primary">
  <div class="w-5 h-5 flex items-center justify-center mr-2">
  <i class="ri-video-chat-line"></i>
  </div>
  é¢è¯•æ¨¡æ‹Ÿ
  </a>
  <a href="./assessment-options.html" class="flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900">
  <div class="w-5 h-5 flex items-center justify-center mr-2">
  <i class="ri-bar-chart-line"></i>
  </div>
  èƒ½åŠ›è¯„ä¼°
  </a>
  <a href="./learning-resources.html" class="flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900">
  <div class="w-5 h-5 flex items-center justify-center mr-2">
  <i class="ri-book-open-line"></i>
  </div>
  å­¦ä¹ èµ„æº
  </a>
  <a href="./user-profile.html" class="flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900">
  <div class="w-5 h-5 flex items-center justify-center mr-2">
  <i class="ri-user-settings-line"></i>
  </div>
  ä¸ªäººä¸­å¿ƒ
  </a>
</nav>
<div class="flex items-center">
<div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
<i class="ri-user-line text-white"></i>
</div>
<div class="ml-2">
<p class="text-sm font-medium text-gray-900">ææ˜å</p>
<p class="text-xs text-gray-500">é«˜çº§ç”¨æˆ·</p>
</div>
</div>
</div>
</div>
</div>
<!-- ä¸»è¦å†…å®¹åŒº -->
<div class="flex-1 flex overflow-hidden bg-gray-50">
<!-- å·¦ä¾§ä¸»è¦å†…å®¹åŒº -->
<div class="flex-1 flex flex-col overflow-hidden">
<div class="bg-white border-b border-gray-200 px-8 py-6">
<h1 class="text-2xl font-bold text-gray-900">ç®€å†è§£æ</h1>
<p class="text-gray-600 mt-1">ç³»ç»Ÿæ­£åœ¨è°ƒç”¨Spark Proæ™ºèƒ½è§£ææ‚¨çš„ç®€å†ï¼Œæå–å…³é”®ä¿¡æ¯å’ŒæŠ€èƒ½ç‚¹</p>
</div>
<!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
<div class="bg-white border-b border-gray-200 px-8 py-4">
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white text-sm font-medium">
<i class="ri-check-line"></i>
</div>
<span class="ml-2 text-sm font-medium text-green-600">åŸºç¡€ä¿¡æ¯</span>
</div>
<div class="flex-1 mx-4 h-px bg-green-300"></div>
<div class="flex items-center">
<div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white text-sm font-medium">2</div>
<span class="ml-2 text-sm font-medium text-primary">ç®€å†è§£æ</span>
</div>
<div class="flex-1 mx-4 h-px bg-gray-300"></div>
<div class="flex items-center">
<div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-500 text-sm font-medium">3</div>
<span class="ml-2 text-sm text-gray-500">é¢˜ç›®ç”Ÿæˆ</span>
</div>
</div>
</div>
<div class="flex-1 flex overflow-hidden">
<!-- ç®€å†é¢„è§ˆåŒº -->
<div class="flex-1 p-8 overflow-y-auto">
<div class="bg-white rounded-xl shadow-sm border border-gray-200 h-full">
<div class="p-6 border-b border-gray-200 flex items-center justify-between">
<h3 class="text-lg font-semibold text-gray-900">ç®€å†é¢„è§ˆ</h3>
<div class="flex items-center space-x-2">
<button class="p-2 text-gray-400 hover:text-gray-600">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-zoom-out-line"></i>
</div>
</button>
<span class="text-sm text-gray-500">100%</span>
<button class="p-2 text-gray-400 hover:text-gray-600">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-zoom-in-line"></i>
</div>
</button>
</div>
</div>
<div class="p-6 flex-1 bg-gray-50">
<div class="bg-white rounded-lg shadow-sm p-8 max-w-2xl mx-auto" style="min-height: 800px;" id="resumePreview">
<div class="text-center mb-8">
<h1 class="text-3xl font-bold text-gray-900 mb-2" id="resumeName">è«æ ©</h1>
<p class="text-lg text-gray-600 mb-4" id="resumePosition">ç®—æ³•å·¥ç¨‹å¸ˆ</p>
<div class="flex justify-center space-x-6 text-sm text-gray-600">
<div class="flex items-center" id="resumePhone">
<i class="ri-phone-line mr-1"></i>
13480805647
</div>
<div class="flex items-center" id="resumeEmail">
<i class="ri-mail-line mr-1"></i>
2022302181277@whu.edu.cn
</div>
<div class="flex items-center" id="resumeCity">
<i class="ri-map-pin-line mr-1"></i>
æ­¦æ±‰å¸‚
</div>
</div>
</div>
<div class="space-y-8">
<div>
<h2 class="text-xl font-semibold text-gray-900 mb-4 border-b-2 border-primary pb-2">å·¥ä½œç»å†</h2>
<div class="space-y-6" id="resumeExperience">
<div>
<div class="flex justify-between items-start mb-2">
<h3 class="text-lg font-medium text-gray-900">æ­¦æ±‰å¤§å­¦ - å­¦ç”Ÿ</h3>
<span class="text-sm text-gray-600">2022.09 - 2026.06</span>
</div>
<ul class="text-gray-700 space-y-1 ml-4">
<li>â€¢ å¤§æ¨¡å‹å¾®è°ƒçš„å®‰å…¨å¯¹é½ç ”ç©¶</li>
<li>â€¢ èˆ†æƒ…åˆ†æç³»ç»Ÿå¼€å‘</li>
<li>â€¢ åˆ›æ–°å‘æ˜ä¸çŸ¥è¯†äº§æƒåä¼šå‰¯ä¼šé•¿</li>
</ul>
</div>
<div>
<div class="flex justify-between items-start mb-2">
<h3 class="text-lg font-medium text-gray-900">ç”µå•†ç”µç¾¤ - åˆ›ä¸šè€…</h3>
<span class="text-sm text-gray-600">2023.06 - è‡³ä»Š</span>
</div>
<ul class="text-gray-700 space-y-1 ml-4">
<li>â€¢ å›¢é˜Ÿç®¡ç†ï¼šç»„å»º9äººè·¨èŒèƒ½å›¢é˜Ÿ</li>
<li>â€¢ æ•ˆç‡ä¼˜åŒ–ï¼šå¼•å…¥æ™ºèƒ½å‘è´§æœºå™¨äºº</li>
<li>â€¢ è§„æ¨¡æ‹“å±•ï¼šè¿è¥ä¸ƒä¸ªåº—é“ºï¼ŒæœåŠ¡è¶…äºŒåä¸‡ç”¨æˆ·</li>
</ul>
</div>
</div>
</div>
<div>
<h2 class="text-xl font-semibold text-gray-900 mb-4 border-b-2 border-primary pb-2">é¡¹ç›®ç»éªŒ</h2>
<div class="space-y-4" id="resumeProjects">
<div>
<h3 class="text-lg font-medium text-gray-900 mb-2">å¤§æ¨¡å‹å¾®è°ƒçš„å®‰å…¨å¯¹é½ç ”ç©¶</h3>
<p class="text-gray-700 mb-2">æˆåŠŸå¤ç°ICLRçš„å…³é”®ç»“è®ºï¼Œé‡‡ç”¨GPT-4oå¯¹ç›®æ ‡å¤§è¯­è¨€æ¨¡å‹è¾“å‡ºè¿›è¡Œç²¾ç»†åŒ–å®‰å…¨æ€§é‡åŒ–è¯„ä¼°</p>
<p class="text-sm text-gray-600">æŠ€æœ¯æ ˆï¼šPython, PyTorch, GPT-4o, å®‰å…¨è¯„ä¼°</p>
</div>
<div>
<h3 class="text-lg font-medium text-gray-900 mb-2">èˆ†æƒ…åˆ†æç³»ç»Ÿ</h3>
<p class="text-gray-700 mb-2">å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæ”¯æŒå®æ—¶æƒ…æ„Ÿåˆ†æå’Œçƒ­ç‚¹äº‹ä»¶æ£€æµ‹</p>
<p class="text-sm text-gray-600">æŠ€æœ¯æ ˆï¼šReact, FastAPI, Redis, MongoDB, Docker</p>
</div>
<div>
<h3 class="text-lg font-medium text-gray-900 mb-2">ç”µå•†ç”µç¾¤è¿è¥</h3>
<p class="text-gray-700 mb-2">ä»é›¶å¼€å§‹å­µåŒ–å¹¶è¿è¥ä¸ƒä¸ªåº—é“ºï¼Œå½¢æˆåº—ç¾¤æ•ˆåº”ï¼ŒCç«¯è¥æ”¶çªç ´ç™¾ä¸‡</p>
<p class="text-sm text-gray-600">æŠ€æœ¯æ ˆï¼šå›¢é˜Ÿç®¡ç†, è‡ªåŠ¨åŒ–ç³»ç»Ÿ, æ•°æ®åˆ†æ</p>
</div>
</div>
</div>
<div>
<h2 class="text-xl font-semibold text-gray-900 mb-4 border-b-2 border-primary pb-2">æŠ€èƒ½ä¸“é•¿</h2>
<div class="grid grid-cols-2 gap-4" id="resumeSkills">
<div>
<h4 class="font-medium text-gray-900 mb-2">ç¼–ç¨‹è¯­è¨€</h4>
<p class="text-gray-700">Python, JavaScript, Java</p>
</div>
<div>
<h4 class="font-medium text-gray-900 mb-2">æ¡†æ¶å·¥å…·</h4>
<p class="text-gray-700">PyTorch, Springboot, React, FastAPI</p>
</div>
<div>
<h4 class="font-medium text-gray-900 mb-2">æ•°æ®åº“</h4>
<p class="text-gray-700">Redis, MongoDB, MySQL</p>
</div>
<div>
<h4 class="font-medium text-gray-900 mb-2">å…¶ä»–å·¥å…·</h4>
<p class="text-gray-700">Docker, Git, Linux</p>
</div>
</div>
</div>
<div>
<h2 class="text-xl font-semibold text-gray-900 mb-4 border-b-2 border-primary pb-2">æ•™è‚²èƒŒæ™¯</h2>
<div>
<div class="flex justify-between items-start mb-2">
<h3 class="text-lg font-medium text-gray-900">æ­¦æ±‰å¤§å­¦ - ç½‘ç»œç©ºé—´å®‰å…¨</h3>
<span class="text-sm text-gray-600">2022.09 - 2026.06</span>
</div>
<p class="text-gray-700">æœ¬ç§‘ | GPA: 3.72/4.0</p>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- è§£æè¿›åº¦åŒº -->
<div class="w-96 bg-white border-l border-gray-200 p-6 overflow-y-auto">
<h3 class="text-lg font-semibold text-gray-900 mb-6">è§£æè¿›åº¦</h3>
<!-- æ€»ä½“è¿›åº¦ -->
<div class="mb-8">
<div class="flex items-center justify-between mb-2">
<span class="text-sm font-medium text-gray-700">æ•´ä½“è¿›åº¦</span>
<span class="text-sm text-primary font-medium" id="overallProgress">100%</span>
</div>
<div class="w-full bg-gray-200 rounded-full h-2">
<div class="bg-primary h-2 rounded-full progress-bar" id="overallBar" style="width: 100%"></div>
</div>
</div>
<!-- å„æ¨¡å—è¿›åº¦ -->
<div class="space-y-6">
<div class="fade-in">
<div class="flex items-center mb-3">
<div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center mr-3">
<i class="ri-check-line text-white text-sm"></i>
</div>
<h4 class="text-sm font-medium text-gray-900">åŸºæœ¬ä¿¡æ¯æå–</h4>
</div>
<div class="ml-9 text-xs text-gray-600 space-y-1" id="basicInfoDetails">
<p>âœ“ å§“åï¼šè«æ ©</p>
<p>âœ“ è”ç³»æ–¹å¼ï¼šå·²æå–</p>
<p>âœ“ å·¥ä½œå¹´é™ï¼š2 å¹´</p>
</div>
</div>
<div class="fade-in">
<div class="flex items-center mb-3">
<div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center mr-3">
<i class="ri-check-line text-white text-sm"></i>
</div>
<h4 class="text-sm font-medium text-gray-900">æŠ€èƒ½ç‚¹è¯†åˆ«</h4>
</div>
<div class="ml-9" id="skillsDetails">
<div class="flex flex-wrap gap-1 mb-2" id="skillsTags">
<span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded skill-tag">Python</span>
<span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded skill-tag">PyTorch</span>
<span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded skill-tag">Springboot</span>
<span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded skill-tag">React</span>
<span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded skill-tag">Docker</span>
<span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded skill-tag">FastAPI</span>
<span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded skill-tag">Redis</span>
<span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded skill-tag">MongoDB</span>
</div>
<p class="text-xs text-gray-600" id="skillsCount">å·²è¯†åˆ« 8 ä¸ªæ ¸å¿ƒæŠ€èƒ½</p>
</div>
</div>
<div class="fade-in">
<div class="flex items-center mb-3">
<div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center mr-3">
<i class="ri-check-line text-white text-sm"></i>
</div>
<h4 class="text-sm font-medium text-gray-900">é¡¹ç›®ç»éªŒæå–</h4>
</div>
<div class="ml-9 space-y-3" id="projectsDetails">
<div class="bg-gray-50 rounded-lg p-3">
<h5 class="text-sm font-medium text-gray-900">å¤§æ¨¡å‹å¾®è°ƒçš„å®‰å…¨å¯¹é½ç ”ç©¶</h5>
<p class="text-xs text-gray-600 mt-1">AIå®‰å…¨ â€¢ æ¨¡å‹å¾®è°ƒ â€¢ å®‰å…¨è¯„ä¼°</p>
<div class="flex items-center mt-2 text-xs text-green-600">
<i class="ri-time-line mr-1"></i>
2025.03 - è‡³ä»Š
</div>
</div>
<div class="bg-gray-50 rounded-lg p-3">
<h5 class="text-sm font-medium text-gray-900">èˆ†æƒ…åˆ†æç³»ç»Ÿ</h5>
<p class="text-xs text-gray-600 mt-1">å‰åç«¯åˆ†ç¦» â€¢ æƒ…æ„Ÿåˆ†æ â€¢ å®æ—¶æ£€æµ‹</p>
<div class="flex items-center mt-2 text-xs text-green-600">
<i class="ri-time-line mr-1"></i>
2024.11 - è‡³ä»Š
</div>
</div>
<div class="bg-gray-50 rounded-lg p-3">
<h5 class="text-sm font-medium text-gray-900">ç”µå•†ç”µç¾¤è¿è¥</h5>
<p class="text-xs text-gray-600 mt-1">å›¢é˜Ÿç®¡ç† â€¢ è‡ªåŠ¨åŒ–ç³»ç»Ÿ â€¢ æ•°æ®åˆ†æ</p>
<div class="flex items-center mt-2 text-xs text-green-600">
<i class="ri-time-line mr-1"></i>
2023.06 - è‡³ä»Š
</div>
</div>
</div>
</div>
<div class="fade-in">
<div class="flex items-center mb-3">
<div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center mr-3">
<i class="ri-check-line text-white text-sm"></i>
</div>
<h4 class="text-sm font-medium text-gray-900">å·¥ä½œç»å†åˆ†æ</h4>
</div>
<div class="ml-9 space-y-3" id="experienceDetails">
<div class="border-l-2 border-primary pl-4">
<div class="flex items-center justify-between mb-1">
<h5 class="text-sm font-medium text-gray-900">æ­¦æ±‰å¤§å­¦</h5>
<span class="text-xs text-gray-500">2022.09 - 2026.06</span>
</div>
<p class="text-xs text-gray-600 mb-2">å­¦ç”Ÿ</p>
<div class="space-y-1 text-xs text-gray-600">
<p>â€¢ å¤§æ¨¡å‹å¾®è°ƒçš„å®‰å…¨å¯¹é½ç ”ç©¶</p>
<p>â€¢ èˆ†æƒ…åˆ†æç³»ç»Ÿå¼€å‘</p>
<p>â€¢ åˆ›æ–°å‘æ˜ä¸çŸ¥è¯†äº§æƒåä¼šå‰¯ä¼šé•¿</p>
</div>
</div>
<div class="border-l-2 border-gray-300 pl-4">
<div class="flex items-center justify-between mb-1">
<h5 class="text-sm font-medium text-gray-900">ç”µå•†ç”µç¾¤</h5>
<span class="text-xs text-gray-500">2023.06 - è‡³ä»Š</span>
</div>
<p class="text-xs text-gray-600 mb-2">åˆ›ä¸šè€…</p>
<div class="space-y-1 text-xs text-gray-600">
<p>â€¢ å›¢é˜Ÿç®¡ç†ï¼šç»„å»º9äººè·¨èŒèƒ½å›¢é˜Ÿ</p>
<p>â€¢ æ•ˆç‡ä¼˜åŒ–ï¼šå¼•å…¥æ™ºèƒ½å‘è´§æœºå™¨äºº</p>
<p>â€¢ è§„æ¨¡æ‹“å±•ï¼šè¿è¥ä¸ƒä¸ªåº—é“ºï¼ŒæœåŠ¡è¶…äºŒåä¸‡ç”¨æˆ·</p>
</div>
</div>
</div>
</div>
</div>
<!-- è§£æç»“æœæ‘˜è¦ -->
<div class="mt-8 bg-green-50 rounded-lg p-4">
<div class="flex items-center mb-3">
<div class="w-5 h-5 flex items-center justify-center mr-2">
<i class="ri-check-double-line text-green-600"></i>
</div>
<h4 class="text-sm font-medium text-green-900">è§£æå®Œæˆ</h4>
</div>
<div class="text-xs text-green-700 space-y-1" id="analysisSummary">
<p>â€¢ è¯†åˆ«æŠ€èƒ½ç‚¹ï¼š8 ä¸ª</p>
<p>â€¢ æå–é¡¹ç›®ç»éªŒï¼š3 ä¸ª</p>
<p>â€¢ åˆ†æå·¥ä½œç»å†ï¼š2 æ®µ</p>
<p>â€¢ åŒ¹é…åº¦è¯„åˆ†ï¼š82%</p>
</div>
</div>
<!-- æ“ä½œæŒ‰é’® -->
<div class="flex flex-col space-y-3 mt-8">
<button class="w-full px-4 py-2 text-primary border border-primary rounded-button hover:bg-primary/5 whitespace-nowrap !rounded-button" id="reAnalyze">
<div class="w-4 h-4 flex items-center justify-center mr-2 inline-block">
<i class="ri-refresh-line"></i>
</div>
é‡æ–°è§£æ
</button>
<button class="w-full px-4 py-2 text-gray-600 border border-gray-300 rounded-button hover:bg-gray-50 whitespace-nowrap !rounded-button" id="exportResult">
<div class="w-4 h-4 flex items-center justify-center mr-2 inline-block">
<i class="ri-download-line"></i>
</div>
å¯¼å‡ºç»“æœ
</button>
<a href="./setting_page3.html" data-readdy="true">
<button class="w-full px-4 py-3 bg-primary text-white rounded-button hover:bg-primary/90 whitespace-nowrap !rounded-button" id="nextStep">
<div class="w-4 h-4 flex items-center justify-center mr-2 inline-block">
<i class="ri-arrow-right-line"></i>
</div>
ä¸‹ä¸€æ­¥ï¼šç”Ÿæˆé¢˜ç›®
</button>
</a>
</div>
</div>
</div>
</div>
</div>
<script id="progress-animation">
document.addEventListener('DOMContentLoaded', function() {
// æ£€æŸ¥æ˜¯å¦æœ‰æ¥è‡ªä¸Šä¸€é¡µçš„åˆ†æç»“æœ
const urlParams = new URLSearchParams(window.location.search);
const taskId = urlParams.get('taskId');

if (taskId) {
// å¦‚æœæœ‰taskIdï¼Œä»åç«¯è·å–JSONæ•°æ®
loadAnalysisDataFromBackend(taskId);
} else {
// å¦åˆ™å¯åŠ¨æ¨¡æ‹Ÿè¿›åº¦
startSimulatedProgress();
}
});

async function loadAnalysisDataFromBackend(taskId) {
try {
console.log('ğŸ”„ æ­£åœ¨ä»åç«¯åŠ è½½åˆ†ææ•°æ®...');
const response = await fetch(`/api/v1/resume/json/${taskId}`);
const result = await response.json();

if (result.success && result.data) {
console.log('âœ… æˆåŠŸåŠ è½½åˆ†ææ•°æ®:', result.data);
displayAnalysisResults(result.data);
} else {
console.error('âŒ åŠ è½½åˆ†ææ•°æ®å¤±è´¥:', result.message);
startSimulatedProgress();
}
} catch (error) {
console.error('âŒ åŠ è½½åˆ†ææ•°æ®å¼‚å¸¸:', error);
startSimulatedProgress();
}
}

function startSimulatedProgress() {
const progressSteps = [
{ id: 'basicInfo', delay: 500, duration: 1000, label: 'åŸºæœ¬ä¿¡æ¯æå–' },
{ id: 'skillExtraction', delay: 1500, duration: 1500, label: 'æŠ€èƒ½ç‚¹è¯†åˆ«' },
{ id: 'projectExtraction', delay: 3000, duration: 1200, label: 'é¡¹ç›®ç»éªŒæå–' },
{ id: 'workAnalysis', delay: 4200, duration: 1000, label: 'å·¥ä½œç»å†åˆ†æ' }
];

let currentProgress = 0;
const totalSteps = progressSteps.length;

function updateOverallProgress() {
const percentage = Math.round((currentProgress / totalSteps) * 100);
document.getElementById('overallProgress').textContent = percentage + '%';
document.getElementById('overallBar').style.width = percentage + '%';
}

function updateProgressLabel(label) {
const progressLabel = document.querySelector('.text-sm.text-gray-500');
if (progressLabel) {
progressLabel.textContent = label;
}
}

setTimeout(() => {
const fadeElements = document.querySelectorAll('.fade-in');
fadeElements.forEach((el, index) => {
setTimeout(() => {
el.style.opacity = '1';
currentProgress++;
updateOverallProgress();
if (progressSteps[index]) {
updateProgressLabel(progressSteps[index].label);
}
}, index * 1000);
});
}, 1000);
}

function displayAnalysisResults(data) {
// æ›´æ–°å·¦ä¾§ç®€å†é¢„è§ˆåŒºåŸŸ
if (data.basic_info) {
const basicInfo = data.basic_info;
updateResumePreview(basicInfo);
}

if (data.experience && data.experience.length > 0) {
updateResumeExperience(data.experience);
}

if (data.projects && data.projects.length > 0) {
updateResumeProjects(data.projects);
}

if (data.skills_categories) {
updateResumeSkills(data.skills_categories);
}

// æ›´æ–°å³ä¾§è§£æè¿›åº¦åŒºåŸŸ
updateProgressDetails(data);

console.log('âœ… ä¸€æ¬¡åˆ†æï¼Œä¸¤æ¬¡æ¸²æŸ“å®Œæˆ');
console.log('ğŸ“Š å·¦ä¾§ç®€å†é¢„è§ˆå·²æ›´æ–°');
console.log('ğŸ“Š å³ä¾§è§£æè¿›åº¦å·²æ›´æ–°');
}

function updateResumePreview(basicInfo) {
// æ›´æ–°ç®€å†é¢„è§ˆä¸­çš„åŸºæœ¬ä¿¡æ¯
const nameElement = document.getElementById('resumeName');
if (nameElement && basicInfo.name) {
nameElement.textContent = basicInfo.name;
}

const positionElement = document.getElementById('resumePosition');
if (positionElement && basicInfo.current_position) {
positionElement.textContent = basicInfo.current_position;
}

const phoneElement = document.getElementById('resumePhone');
if (phoneElement && basicInfo.phone) {
phoneElement.innerHTML = `<i class="ri-phone-line mr-1"></i>${basicInfo.phone}`;
}

const emailElement = document.getElementById('resumeEmail');
if (emailElement && basicInfo.email) {
emailElement.innerHTML = `<i class="ri-mail-line mr-1"></i>${basicInfo.email}`;
}

const cityElement = document.getElementById('resumeCity');
if (cityElement && basicInfo.city) {
cityElement.innerHTML = `<i class="ri-map-pin-line mr-1"></i>${basicInfo.city}`;
}
}

function updateResumeExperience(experience) {
const experienceContainer = document.getElementById('resumeExperience');
if (experienceContainer && experience && experience.length > 0) {
experienceContainer.innerHTML = '';
experience.forEach(exp => {
const expDiv = document.createElement('div');
expDiv.innerHTML = `
<div class="flex justify-between items-start mb-2">
<h3 class="text-lg font-medium text-gray-900">${exp.company} - ${exp.position}</h3>
<span class="text-sm text-gray-600">${exp.period}</span>
</div>
<ul class="text-gray-700 space-y-1 ml-4">
${exp.responsibilities.map(resp => `<li>â€¢ ${resp}</li>`).join('')}
</ul>
`;
experienceContainer.appendChild(expDiv);
});
}
}

function updateResumeProjects(projects) {
const projectsContainer = document.getElementById('resumeProjects');
if (projectsContainer && projects && projects.length > 0) {
projectsContainer.innerHTML = '';
projects.forEach(project => {
const projectDiv = document.createElement('div');
projectDiv.innerHTML = `
<h3 class="text-lg font-medium text-gray-900 mb-2">${project.name}</h3>
<p class="text-gray-700 mb-2">${project.description}</p>
<p class="text-sm text-gray-600">æŠ€æœ¯æ ˆï¼š${project.tech_stack}</p>
`;
projectsContainer.appendChild(projectDiv);
});
}
}

function updateResumeSkills(skillsCategories) {
const skillsContainer = document.getElementById('resumeSkills');
if (skillsContainer && skillsCategories) {
const skillSections = [
{ title: 'ç¼–ç¨‹è¯­è¨€', skills: skillsCategories.programming_languages || [] },
{ title: 'æ¡†æ¶å·¥å…·', skills: skillsCategories.frameworks || [] },
{ title: 'æ•°æ®åº“', skills: skillsCategories.databases || [] },
{ title: 'å…¶ä»–å·¥å…·', skills: skillsCategories.tools || [] }
];

skillsContainer.innerHTML = '';
skillSections.forEach(section => {
if (section.skills.length > 0) {
const sectionDiv = document.createElement('div');
sectionDiv.innerHTML = `
<h4 class="font-medium text-gray-900 mb-2">${section.title}</h4>
<p class="text-gray-700">${section.skills.join(', ')}</p>
`;
skillsContainer.appendChild(sectionDiv);
}
});
}
}

// æ›´æ–°å³ä¾§è§£æè¿›åº¦åŒºåŸŸ
function updateProgressDetails(data) {
// æ›´æ–°åŸºæœ¬ä¿¡æ¯è¯¦æƒ…
if (data.basic_info) {
const basicInfo = data.basic_info;
const basicInfoDetails = document.getElementById('basicInfoDetails');
if (basicInfoDetails) {
basicInfoDetails.innerHTML = `
<p>âœ“ å§“åï¼š${basicInfo.name || 'N/A'}</p>
<p>âœ“ è”ç³»æ–¹å¼ï¼š${basicInfo.phone ? 'å·²æå–' : 'æœªæ‰¾åˆ°'}</p>
<p>âœ“ å·¥ä½œå¹´é™ï¼š${basicInfo.experience_years || 'N/A'}</p>
`;
}
}

// æ›´æ–°æŠ€èƒ½ç‚¹è¯¦æƒ…
if (data.skills && data.skills.length > 0) {
const skillsTags = document.getElementById('skillsTags');
const skillsCount = document.getElementById('skillsCount');
if (skillsTags) {
skillsTags.innerHTML = '';
data.skills.slice(0, 8).forEach(skill => { // æœ€å¤šæ˜¾ç¤º8ä¸ªæŠ€èƒ½
const skillTag = document.createElement('span');
skillTag.className = 'px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded skill-tag';
skillTag.textContent = skill;
skillsTags.appendChild(skillTag);
});
}
if (skillsCount) {
skillsCount.textContent = `å·²è¯†åˆ« ${data.skills.length} ä¸ªæ ¸å¿ƒæŠ€èƒ½`;
}
}

// æ›´æ–°é¡¹ç›®ç»éªŒè¯¦æƒ…
if (data.projects && data.projects.length > 0) {
const projectsDetails = document.getElementById('projectsDetails');
if (projectsDetails) {
projectsDetails.innerHTML = '';
data.projects.slice(0, 3).forEach(project => { // æœ€å¤šæ˜¾ç¤º3ä¸ªé¡¹ç›®
const projectDiv = document.createElement('div');
projectDiv.className = 'bg-gray-50 rounded-lg p-3';
projectDiv.innerHTML = `
<h5 class="text-sm font-medium text-gray-900">${project.name}</h5>
<p class="text-xs text-gray-600 mt-1">${project.description.substring(0, 50)}...</p>
<div class="flex items-center mt-2 text-xs text-green-600">
<i class="ri-time-line mr-1"></i>
${project.period || ''}
</div>
`;
projectsDetails.appendChild(projectDiv);
});
}
}

// æ›´æ–°å·¥ä½œç»å†è¯¦æƒ…
if (data.experience && data.experience.length > 0) {
const experienceDetails = document.getElementById('experienceDetails');
if (experienceDetails) {
experienceDetails.innerHTML = '';
data.experience.slice(0, 2).forEach((exp, index) => { // æœ€å¤šæ˜¾ç¤º2æ®µç»å†
const expDiv = document.createElement('div');
expDiv.className = `border-l-2 ${index === 0 ? 'border-primary' : 'border-gray-300'} pl-4`;
expDiv.innerHTML = `
<div class="flex items-center justify-between mb-1">
<h5 class="text-sm font-medium text-gray-900">${exp.company}</h5>
<span class="text-xs text-gray-500">${exp.period}</span>
</div>
<p class="text-xs text-gray-600 mb-2">${exp.position}</p>
<div class="space-y-1 text-xs text-gray-600">
${exp.responsibilities.slice(0, 3).map(resp => `<p>â€¢ ${resp}</p>`).join('')}
</div>
`;
experienceDetails.appendChild(expDiv);
});
}
}

// æ›´æ–°åˆ†ææ‘˜è¦
if (data.analysis) {
const analysisSummary = document.getElementById('analysisSummary');
if (analysisSummary) {
const skillsCount = data.skills ? data.skills.length : 0;
const projectsCount = data.projects ? data.projects.length : 0;
const experienceCount = data.experience ? data.experience.length : 0;
const matchScore = data.analysis.overall_match || 0;

analysisSummary.innerHTML = `
<p>â€¢ è¯†åˆ«æŠ€èƒ½ç‚¹ï¼š${skillsCount} ä¸ª</p>
<p>â€¢ æå–é¡¹ç›®ç»éªŒï¼š${projectsCount} ä¸ª</p>
<p>â€¢ åˆ†æå·¥ä½œç»å†ï¼š${experienceCount} æ®µ</p>
<p>â€¢ åŒ¹é…åº¦è¯„åˆ†ï¼š${matchScore}%</p>
`;
}
}
}
</script>
<script id="skill-interaction">
document.addEventListener('DOMContentLoaded', function() {
const skillTags = document.querySelectorAll('.skill-tag');
skillTags.forEach(tag => {
tag.addEventListener('click', function() {
this.classList.toggle('bg-blue-100');
this.classList.toggle('text-blue-800');
this.classList.toggle('bg-red-100');
this.classList.toggle('text-red-800');
});
});
});
</script>
<script id="button-handlers">
document.addEventListener('DOMContentLoaded', function() {
const reAnalyzeBtn = document.getElementById('reAnalyze');
const exportBtn = document.getElementById('exportResult');
const nextStepBtn = document.getElementById('nextStep');
reAnalyzeBtn.addEventListener('click', function() {
const dialog = document.createElement('div');
dialog.className = 'fixed inset-0 flex items-center justify-center z-50';
dialog.innerHTML = `
<div class="fixed inset-0 bg-black/50"></div>
<div class="relative bg-white rounded-lg p-6 max-w-sm w-full mx-4">
<h3 class="text-lg font-medium text-gray-900 mb-2">ç¡®è®¤é‡æ–°è§£æ</h3>
<p class="text-gray-600 mb-4">é‡æ–°è§£æå°†è¦†ç›–å½“å‰ç»“æœï¼Œæ˜¯å¦ç»§ç»­ï¼Ÿ</p>
<div class="flex space-x-3">
<button class="flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-button hover:bg-gray-50" onclick="this.closest('.fixed').remove()">å–æ¶ˆ</button>
<button class="flex-1 px-4 py-2 bg-primary text-white rounded-button hover:bg-primary/90" onclick="this.closest('.fixed').remove(); startReAnalysis()">ç¡®è®¤</button>
</div>
</div>
`;
document.body.appendChild(dialog);
});
exportBtn.addEventListener('click', function() {
const dialog = document.createElement('div');
dialog.className = 'fixed inset-0 flex items-center justify-center z-50';
dialog.innerHTML = `
<div class="fixed inset-0 bg-black/50"></div>
<div class="relative bg-white rounded-lg p-6 max-w-sm w-full mx-4">
<h3 class="text-lg font-medium text-gray-900 mb-2">å¯¼å‡ºæˆåŠŸ</h3>
<p class="text-gray-600 mb-4">è§£æç»“æœå·²å¯¼å‡ºåˆ°ä¸‹è½½æ–‡ä»¶å¤¹</p>
<button class="w-full px-4 py-2 bg-primary text-white rounded-button" onclick="this.closest('.fixed').remove()">ç¡®å®š</button>
</div>
`;
document.body.appendChild(dialog);
});
nextStepBtn.addEventListener('click', function(e) {
  const urlParams = new URLSearchParams(window.location.search);
  const taskId = urlParams.get('taskId');
  if (taskId) {
    window.location.href = `./setting_page3.html?taskId=${taskId}`;
  } else {
    e.preventDefault();
    alert('æœªè·å–åˆ°ç®€å†åˆ†æä»»åŠ¡IDï¼Œæ— æ³•è¿›å…¥é¢˜ç›®ç”Ÿæˆé¡µï¼');
  }
});
window.startReAnalysis = function() {
document.getElementById('overallProgress').textContent = '0%';
document.getElementById('overallBar').style.width = '0%';
const fadeElements = document.querySelectorAll('.fade-in');
fadeElements.forEach(el => {
el.style.opacity = '0.3';
});
setTimeout(() => {
fadeElements.forEach((el, index) => {
setTimeout(() => {
el.style.opacity = '1';
}, index * 800);
});
document.getElementById('overallProgress').textContent = '100%';
document.getElementById('overallBar').style.width = '100%';
}, 2000);
};
});
</script>
</body>
</html>