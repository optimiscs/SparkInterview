<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LangGraphæ™ºèƒ½é¢è¯•æ¼”ç¤º - èŒé¢æ˜Ÿç«</title>
<script src="https://cdn.tailwindcss.com/3.4.16"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet">
<style>
/* æµå¼æ–‡æœ¬åŠ¨ç”» */
@keyframes typing {
    from { width: 0; }
    to { width: 100%; }
}

.typing-cursor {
    display: inline-block;
    animation: blink 1s infinite;
    font-weight: bold;
    color: #3B82F6;
}

@keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
}

.message-slide-in {
    animation: slideInUp 0.3s ease-out;
}

@keyframes slideInUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.loading-dots .dot {
    width: 4px;
    height: 4px;
    border-radius: 50%;
    background-color: #6B7280;
    animation: loading 1.4s infinite ease-in-out;
    display: inline-block;
    margin: 0 2px;
}

.loading-dots .dot:nth-child(1) { animation-delay: -0.32s; }
.loading-dots .dot:nth-child(2) { animation-delay: -0.16s; }

@keyframes loading {
    0%, 80%, 100% { transform: scale(0); opacity: 0.5; }
    40% { transform: scale(1); opacity: 1; }
}
</style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <nav class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <h1 class="text-2xl font-bold text-blue-600">ğŸ¤– LangGraphæ™ºèƒ½é¢è¯•æ¼”ç¤º</h1>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div id="connection-status" class="px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-600">
                        <i class="ri-loader-line animate-spin mr-1"></i>
                        è¿æ¥ä¸­...
                    </div>
                    <button id="login-btn" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                        ç™»å½•æµ‹è¯•
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- å·¦ä¾§æ§åˆ¶é¢æ¿ -->
            <div class="lg:col-span-1">
                <div class="bg-white rounded-lg shadow-sm p-6">
                    <h2 class="text-lg font-semibold text-gray-900 mb-4 flex items-center">
                        <i class="ri-settings-line mr-2"></i>
                        æ§åˆ¶é¢æ¿
                    </h2>
                    
                    <!-- ç”¨æˆ·ä¿¡æ¯è®¾ç½® -->
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ç”¨æˆ·å§“å</label>
                            <input id="user-name" type="text" value="æµ‹è¯•ç”¨æˆ·" 
                                   class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ç›®æ ‡èŒä½</label>
                            <select id="target-position" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="ç®—æ³•å·¥ç¨‹å¸ˆ">ç®—æ³•å·¥ç¨‹å¸ˆ</option>
                                <option value="å‰ç«¯å·¥ç¨‹å¸ˆ">å‰ç«¯å·¥ç¨‹å¸ˆ</option>
                                <option value="åç«¯å·¥ç¨‹å¸ˆ">åç«¯å·¥ç¨‹å¸ˆ</option>
                                <option value="æ•°æ®ç§‘å­¦å®¶">æ•°æ®ç§‘å­¦å®¶</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ç›®æ ‡é¢†åŸŸ</label>
                            <select id="target-field" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="äººå·¥æ™ºèƒ½">äººå·¥æ™ºèƒ½</option>
                                <option value="å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</option>
                                <option value="åç«¯å¼€å‘">åç«¯å¼€å‘</option>
                                <option value="æ•°æ®ç§‘å­¦">æ•°æ®ç§‘å­¦</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ç®€å†æ‘˜è¦</label>
                            <textarea id="resume-text" rows="3" 
                                      class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                      placeholder="è¾“å…¥ç®€å†æ‘˜è¦...">æœ¬ç§‘æ¯•ä¸šï¼Œç†Ÿæ‚‰Pythonå’Œæœºå™¨å­¦ä¹ ï¼Œæœ‰3å¹´å·¥ä½œç»éªŒ</textarea>
                        </div>
                    </div>

                    <!-- æ“ä½œæŒ‰é’® -->
                    <div class="space-y-3 mt-6">
                        <button id="start-interview" 
                                class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center">
                            <i class="ri-play-line mr-2"></i>
                            å¯åŠ¨LangGraphæ™ºèƒ½ä½“
                        </button>
                        <button id="health-check" 
                                class="w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center">
                            <i class="ri-heart-pulse-line mr-2"></i>
                            å¥åº·æ£€æŸ¥
                        </button>
                        <button id="clear-chat" 
                                class="w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center">
                            <i class="ri-delete-bin-line mr-2"></i>
                            æ¸…ç©ºå¯¹è¯
                        </button>
                    </div>
                </div>

                <!-- æ™ºèƒ½ä½“çŠ¶æ€é¢æ¿ -->
                <div class="bg-white rounded-lg shadow-sm p-6 mt-6">
                    <h2 class="text-lg font-semibold text-gray-900 mb-4 flex items-center">
                        <i class="ri-robot-line mr-2 text-blue-600"></i>
                        æ™ºèƒ½ä½“çŠ¶æ€
                    </h2>
                    <div id="agent-status" class="space-y-3 text-sm">
                        <div class="flex justify-between">
                            <span class="text-gray-600">ä¼šè¯ID:</span>
                            <span id="session-id" class="text-gray-500">æœªåˆ›å»º</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">ä¿¡æ¯å®Œæ•´åº¦:</span>
                            <span id="completeness" class="text-blue-600 font-medium">0%</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">ç”¨æˆ·æƒ…ç»ª:</span>
                            <span id="user-emotion" class="px-2 py-0.5 bg-gray-100 rounded text-gray-700">æœªçŸ¥</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">å½“å‰ç­–ç•¥:</span>
                            <span id="current-action" class="px-2 py-0.5 bg-purple-100 text-purple-800 rounded">ç­‰å¾…ä¸­</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ä¸­å¤®å¯¹è¯åŒºåŸŸ -->
            <div class="lg:col-span-2">
                <div class="bg-white rounded-lg shadow-sm flex flex-col h-96">
                    <!-- å¯¹è¯æ ‡é¢˜ -->
                    <div class="border-b border-gray-200 p-4">
                        <h2 class="text-lg font-semibold text-gray-900 flex items-center">
                            <i class="ri-chat-3-line mr-2"></i>
                            LangGraphæ™ºèƒ½å¯¹è¯
                        </h2>
                    </div>

                    <!-- æ¶ˆæ¯æ˜¾ç¤ºåŒºåŸŸ -->
                    <div id="messages-container" class="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50">
                        <div class="text-center text-gray-500 py-8">
                            <i class="ri-robot-line text-4xl mb-2"></i>
                            <p>ç‚¹å‡»"å¯åŠ¨LangGraphæ™ºèƒ½ä½“"å¼€å§‹é¢è¯•</p>
                        </div>
                    </div>

                    <!-- è¾“å…¥åŒºåŸŸ -->
                    <div class="border-t border-gray-200 p-4">
                        <div class="flex space-x-3">
                            <input id="message-input" type="text" 
                                   placeholder="è¾“å…¥æ‚¨çš„å›ç­”..." 
                                   class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                   disabled>
                            <button id="send-message" 
                                    class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center"
                                    disabled>
                                <i class="ri-send-plane-line"></i>
                            </button>
                        </div>
                        <div class="flex justify-between mt-2 text-xs text-gray-500">
                            <span>å›è½¦å‘é€</span>
                            <span id="message-status">ç­‰å¾…æ™ºèƒ½ä½“å¯åŠ¨</span>
                        </div>
                    </div>
                </div>

                <!-- APIå“åº”è¯¦æƒ… -->
                <div class="bg-white rounded-lg shadow-sm p-6 mt-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center">
                        <i class="ri-code-line mr-2"></i>
                        APIå“åº”è¯¦æƒ…
                    </h3>
                    <pre id="api-response" class="bg-gray-100 rounded-lg p-4 text-xs overflow-auto max-h-64">ç­‰å¾…APIè°ƒç”¨...</pre>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentSessionId = null;
        let isProcessing = false;

        // DOMå…ƒç´ 
        const messagesContainer = document.getElementById('messages-container');
        const messageInput = document.getElementById('message-input');
        const sendButton = document.getElementById('send-message');
        const startButton = document.getElementById('start-interview');
        const healthButton = document.getElementById('health-check');
        const clearButton = document.getElementById('clear-chat');
        const loginButton = document.getElementById('login-btn');
        const connectionStatus = document.getElementById('connection-status');
        const apiResponse = document.getElementById('api-response');

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            bindEventListeners();
            checkConnection();
            
            // æ¨¡æ‹Ÿç™»å½•ï¼ˆæ¼”ç¤ºç”¨ï¼‰
            setTimeout(mockLogin, 1000);
        });

        function bindEventListeners() {
            startButton.addEventListener('click', startLangGraphInterview);
            sendButton.addEventListener('click', sendMessage);
            healthButton.addEventListener('click', checkHealth);
            clearButton.addEventListener('click', clearChat);
            loginButton.addEventListener('click', mockLogin);
            
            messageInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !isProcessing) {
                    sendMessage();
                }
            });
        }

        // æ¨¡æ‹Ÿç™»å½•
        function mockLogin() {
            localStorage.setItem('access_token', 'demo-token-12345');
            updateConnectionStatus('connected', 'å·²è¿æ¥');
            loginButton.textContent = 'å·²ç™»å½•';
            loginButton.disabled = true;
        }

        // æ£€æŸ¥è¿æ¥çŠ¶æ€
        async function checkConnection() {
            updateConnectionStatus('connecting', 'è¿æ¥ä¸­...');
            // ç®€åŒ–çš„è¿æ¥æ£€æŸ¥
            setTimeout(() => {
                if (localStorage.getItem('access_token')) {
                    updateConnectionStatus('connected', 'å·²è¿æ¥');
                } else {
                    updateConnectionStatus('disconnected', 'æœªç™»å½•');
                }
            }, 1000);
        }

        function updateConnectionStatus(status, message) {
            const statusClasses = {
                'connected': 'bg-green-100 text-green-700',
                'disconnected': 'bg-red-100 text-red-700',
                'connecting': 'bg-yellow-100 text-yellow-700'
            };
            
            const statusIcons = {
                'connected': 'ri-checkbox-circle-line',
                'disconnected': 'ri-close-circle-line',
                'connecting': 'ri-loader-line animate-spin'
            };
            
            connectionStatus.className = `px-3 py-1 rounded-full text-sm ${statusClasses[status]}`;
            connectionStatus.innerHTML = `<i class="${statusIcons[status]} mr-1"></i>${message}`;
        }

        // å¯åŠ¨LangGraphé¢è¯•
        async function startLangGraphInterview() {
            if (isProcessing) return;
            
            try {
                isProcessing = true;
                updateButtonState(startButton, true, 'å¯åŠ¨ä¸­...');
                
                const token = localStorage.getItem('access_token');
                if (!token) {
                    throw new Error('è¯·å…ˆç™»å½•');
                }

                const userInfo = {
                    user_name: document.getElementById('user-name').value,
                    target_position: document.getElementById('target-position').value,
                    target_field: document.getElementById('target-field').value,
                    resume_text: document.getElementById('resume-text').value
                };

                const response = await fetch('/api/v1/langgraph-chat/start', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify(userInfo)
                });

                const data = await response.json();
                updateAPIResponse('POST /langgraph-chat/start', data);

                if (data.success) {
                    currentSessionId = data.session_id;
                    updateAgentStatus(data);
                    
                    // æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯
                    addMessage('assistant', data.message);
                    
                    // å¯ç”¨è¾“å…¥
                    messageInput.disabled = false;
                    sendButton.disabled = false;
                    document.getElementById('message-status').textContent = 'æ™ºèƒ½ä½“å·²å¯åŠ¨ï¼Œå¼€å§‹å¯¹è¯';
                    
                    showSuccess('LangGraphæ™ºèƒ½ä½“å¯åŠ¨æˆåŠŸï¼');
                } else {
                    throw new Error(data.error || 'å¯åŠ¨å¤±è´¥');
                }

            } catch (error) {
                console.error('å¯åŠ¨å¤±è´¥:', error);
                showError(`å¯åŠ¨å¤±è´¥: ${error.message}`);
            } finally {
                isProcessing = false;
                updateButtonState(startButton, false, 'å¯åŠ¨LangGraphæ™ºèƒ½ä½“');
            }
        }

        // å‘é€æ¶ˆæ¯
        async function sendMessage() {
            const message = messageInput.value.trim();
            if (!message || isProcessing || !currentSessionId) return;

            try {
                isProcessing = true;
                updateButtonState(sendButton, true);
                
                // æ˜¾ç¤ºç”¨æˆ·æ¶ˆæ¯
                addMessage('user', message);
                messageInput.value = '';

                const token = localStorage.getItem('access_token');
                const response = await fetch('/api/v1/langgraph-chat/message', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({
                        session_id: currentSessionId,
                        message: message
                    })
                });

                const data = await response.json();
                updateAPIResponse('POST /langgraph-chat/message', data);

                if (data.success) {
                    // æ˜¾ç¤ºæ™ºèƒ½ä½“å›å¤
                    addMessage('assistant', data.message, data);
                    updateAgentStatus(data);
                } else {
                    addMessage('assistant', data.message || 'å¤„ç†å¤±è´¥', { error: data.error });
                }

            } catch (error) {
                console.error('å‘é€æ¶ˆæ¯å¤±è´¥:', error);
                addMessage('assistant', `å¤„ç†å¤±è´¥: ${error.message}`, { error: error.message });
            } finally {
                isProcessing = false;
                updateButtonState(sendButton, false);
            }
        }

        // å¥åº·æ£€æŸ¥
        async function checkHealth() {
            try {
                updateButtonState(healthButton, true, 'æ£€æŸ¥ä¸­...');
                
                const response = await fetch('/api/v1/langgraph-chat/health');
                const data = await response.json();
                
                updateAPIResponse('GET /langgraph-chat/health', data);
                
                if (data.status === 'healthy') {
                    showSuccess(`ç³»ç»Ÿå¥åº· - ${data.message}`);
                } else {
                    showError(`ç³»ç»Ÿä¸å¥åº· - ${data.message}`);
                }

            } catch (error) {
                showError(`å¥åº·æ£€æŸ¥å¤±è´¥: ${error.message}`);
            } finally {
                updateButtonState(healthButton, false, 'å¥åº·æ£€æŸ¥');
            }
        }

        // æ¸…ç©ºå¯¹è¯
        function clearChat() {
            messagesContainer.innerHTML = `
                <div class="text-center text-gray-500 py-8">
                    <i class="ri-robot-line text-4xl mb-2"></i>
                    <p>å¯¹è¯å·²æ¸…ç©º</p>
                </div>
            `;
            apiResponse.textContent = 'ç­‰å¾…APIè°ƒç”¨...';
        }

        // æ·»åŠ æ¶ˆæ¯åˆ°ç•Œé¢
        function addMessage(role, content, extra = {}) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message-slide-in';
            
            const isUser = role === 'user';
            const isError = extra.error;
            const alignClass = isUser ? 'justify-end' : 'justify-start';
            const bgClass = isError ? 'bg-red-50 border border-red-200' : 
                           isUser ? 'bg-blue-600 text-white' : 'bg-white border border-gray-200';
            
            let statusIndicators = '';
            if (!isUser && extra) {
                const indicators = [];
                if (extra.user_emotion) {
                    indicators.push(`<span class="px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs">${getEmotionDisplay(extra.user_emotion)}</span>`);
                }
                if (extra.completeness_score !== undefined) {
                    indicators.push(`<span class="px-2 py-1 bg-green-100 text-green-700 rounded text-xs">å®Œæ•´åº¦${Math.round(extra.completeness_score * 100)}%</span>`);
                }
                if (extra.decision && extra.decision.action_type) {
                    indicators.push(`<span class="px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs">${getActionDisplay(extra.decision.action_type)}</span>`);
                }
                if (indicators.length > 0) {
                    statusIndicators = `<div class="flex flex-wrap gap-2 mb-2">${indicators.join('')}</div>`;
                }
            }

            // æ¸…ç©ºåˆå§‹æç¤º
            if (messagesContainer.querySelector('.text-center')) {
                messagesContainer.innerHTML = '';
            }

            messageDiv.innerHTML = `
                <div class="flex ${alignClass}">
                    <div class="max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${bgClass}">
                        ${!isUser ? '<div class="flex items-center mb-1"><i class="ri-robot-line mr-1"></i><span class="text-xs font-medium">LangGraphæ™ºèƒ½ä½“</span></div>' : ''}
                        ${statusIndicators}
                        <div class="text-sm">${content}</div>
                        <div class="text-xs opacity-70 mt-1">${new Date().toLocaleTimeString()}</div>
                    </div>
                </div>
            `;

            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // æ›´æ–°æ™ºèƒ½ä½“çŠ¶æ€
        function updateAgentStatus(data) {
            if (data.session_id) {
                document.getElementById('session-id').textContent = data.session_id.substring(0, 8) + '...';
            }
            if (data.completeness_score !== undefined) {
                document.getElementById('completeness').textContent = Math.round(data.completeness_score * 100) + '%';
            }
            if (data.user_emotion) {
                const emotionEl = document.getElementById('user-emotion');
                emotionEl.textContent = getEmotionDisplay(data.user_emotion);
                emotionEl.className = `px-2 py-0.5 rounded text-xs ${getEmotionClass(data.user_emotion)}`;
            }
            if (data.decision && data.decision.action_type) {
                const actionEl = document.getElementById('current-action');
                actionEl.textContent = getActionDisplay(data.decision.action_type);
                actionEl.className = `px-2 py-0.5 rounded text-xs ${getActionClass(data.decision.action_type)}`;
            }
        }

        // æ›´æ–°APIå“åº”æ˜¾ç¤º
        function updateAPIResponse(endpoint, data) {
            apiResponse.textContent = `=== ${endpoint} ===\n${JSON.stringify(data, null, 2)}`;
        }

        // å·¥å…·å‡½æ•°
        function updateButtonState(button, isLoading, text) {
            if (isLoading) {
                button.disabled = true;
                button.innerHTML = `<i class="ri-loader-line animate-spin mr-2"></i>${text || 'å¤„ç†ä¸­...'}`;
            } else {
                button.disabled = false;
                button.innerHTML = text || button.textContent;
            }
        }

        function showSuccess(message) {
            const toast = document.createElement('div');
            toast.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
            toast.innerHTML = `<i class="ri-check-line mr-2"></i>${message}`;
            document.body.appendChild(toast);
            setTimeout(() => document.body.removeChild(toast), 3000);
        }

        function showError(message) {
            const toast = document.createElement('div');
            toast.className = 'fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
            toast.innerHTML = `<i class="ri-error-warning-line mr-2"></i>${message}`;
            document.body.appendChild(toast);
            setTimeout(() => document.body.removeChild(toast), 5000);
        }

        function getEmotionDisplay(emotion) {
            const emotions = { 'neutral': 'ä¸­æ€§', 'anxious': 'ç´§å¼ ', 'confident': 'è‡ªä¿¡', 'confused': 'å›°æƒ‘' };
            return emotions[emotion] || emotion;
        }

        function getEmotionClass(emotion) {
            const classes = {
                'neutral': 'bg-gray-100 text-gray-700',
                'anxious': 'bg-yellow-100 text-yellow-700',
                'confident': 'bg-green-100 text-green-700',
                'confused': 'bg-blue-100 text-blue-700'
            };
            return classes[emotion] || 'bg-gray-100 text-gray-700';
        }

        function getActionDisplay(action) {
            const actions = {
                'ask_question': 'è¯¢é—®ä¿¡æ¯',
                'provide_comfort': 'æƒ…æ„Ÿæ”¯æŒ',
                'generate_question': 'ç”Ÿæˆé—®é¢˜',
                'update_database': 'æ›´æ–°æ•°æ®'
            };
            return actions[action] || action;
        }

        function getActionClass(action) {
            const classes = {
                'ask_question': 'bg-blue-100 text-blue-800',
                'provide_comfort': 'bg-green-100 text-green-800',
                'generate_question': 'bg-purple-100 text-purple-800',
                'update_database': 'bg-orange-100 text-orange-800'
            };
            return classes[action] || 'bg-gray-100 text-gray-800';
        }
    </script>
</body>
</html>
